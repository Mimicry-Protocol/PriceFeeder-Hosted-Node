enum Metric {
  TAMI
  MARKET_CAP
}

type Feed @entity {
  id: ID!
  chainId: Int!
  collectionAddress: Bytes!
  metric: Metric!
  createdAt: BigInt!
  createdBy: Bytes!
  feeds: [FundingEvent!]! @derivedFrom(field: "feed")
}

type FundingEventCounter @entity {
  # Hardcoded to "COUNTER", yes this is a hack
  id: ID!
  count: Int!
}

type FundingEvent @entity {
  id: ID!
  chainId: Int!
  collectionAddress: Bytes!
  metric: Metric!
  amount: BigInt!
  fundedAt: BigInt!
  fundedBy: Bytes!
  feed: Feed!
}